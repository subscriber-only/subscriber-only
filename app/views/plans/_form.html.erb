<%# locals: (plan:) %>

<%= form_with model: plan, method: :post, class: "vstack gap-3", id: "plan-form" do |f| %>
  <div class="row">
    <div class="col-7">
      <%= f.label :monthly_price, class: "form-label" %>
      <%= f.text_field :monthly_price, class: "form-control" %>
      <%= f.field_errors :monthly_price %>
    </div>
    <div class="col">
      <%= f.label :monthly_price_currency, "Currency", class: "form-label" %>
      <%= f.select :monthly_price_currency, Plan::SUPPORTED_CURRENCIES, {}, class: "form-select" %>
      <%= f.field_errors :monthly_price_currency %>
    </div>
  </div>
  <div class="row">
    <div class="col-7">
      <%= f.label :yearly_price, class: "form-label" %>
      <%= f.text_field :yearly_price, class: "form-control" %>
      <%= f.field_errors :yearly_price %>
    </div>
    <div class="col">
      <%= f.label :yearly_price_currency, "Currency", class: "form-label" %>
      <%= f.select :yearly_price_currency, Plan::SUPPORTED_CURRENCIES, {}, class: "form-select" %>
      <%= f.field_errors :yearly_price_currency %>
    </div>
  </div>
<% end %>

<div class="d-flex align-items-center mt-3">
  <%= button_to "Go to Stripe", merchant_account_path, class: "btn btn-link btn-sm px-0", form: { "data-turbo": false } %>
  <%= submit_tag "Update Plan", class: "btn btn-primary ms-auto", form: "plan-form" %>
</div>
